## 5.1.4 Micropayment Protocol: Atomic Host Compensation

The primary function of the Lightning Yield Wallet ($\text{LYW}$) is to facilitate the **atomic, instantaneous payment** of hosts for two services: **Content Persistence** (storage verification) and **Content Retrieval** (data bandwidth).

This process is handled by a trustless micropayment protocol, leveraging the speed and low cost of the Lightning Network ($\text{LN}$).

### Real-Time Payment Mechanism (Lightning Network)

The Lightning Network is the only existing infrastructure capable of supporting the volume and low cost required for the $\text{sats-for-data}$ exchange.

| Feature | Requirement | Lightning Network Solution |
| :--- | :--- | :--- |
| **Atomic Swap** | Payment must be conditional on data/proof delivery. | **Hashed Time-Lock Contracts (HTLCs)** enforce the atomic exchange without escrow risk. |
| **Cost** | Fees must be minimal for payments under $1. | Fees are typically a **fraction of a cent**, making micropayments feasible. |
| **Speed** | Verification and retrieval must be near-instant. | Transactions are **near-instantaneous** ($\text{milliseconds}$), avoiding user lag. |

#### Mechanism: Proof-of-Storage Payment

Payments for persistent storage are routine, automated, and triggered by cryptographic proof.

1.  **Proof Generation:** The storage host provides a **Proof-of-Storage** (e.g., $\text{PoRep}$ or a challenge/response signature) for the content specified by $\text{Key 1}$'s $\text{CID}$.
2.  **Verification:** **$\text{Key 3}$ (Smart Contract)** verifies the $\text{Proof-of-Storage}$ against the DAO's rules (duration, redundancy, integrity).
3.  **Invoice Request:** Upon successful verification, the host sends a $\text{Lightning}$ Invoice to the $\text{LYW}$ for the pre-agreed fee.
4.  **Payment Authorization:** **$\text{Key 3}$** signs the $\text{Lightning}$ payment for the specific invoice, drawing from the yield generated by the $\text{LYW}$'s capital.
5.  **Settlement:** The payment is executed **instantly** over the Lightning Network.

This process ensures that hosts are only compensated for verifiable, active service, not for a mere promise of storage.

## 5.1.4 Micropayment Protocol: Atomic Host Compensation âš¡

The primary function of the Lightning Yield Wallet ($\text{LYW}$) is to facilitate the **atomic, instantaneous payment** of hosts for two services: **Content Persistence** (storage verification) and **Content Retrieval** (data bandwidth).

This process is handled by a trustless micropayment protocol, leveraging the speed and low cost of the Lightning Network ($\text{LN}$).

### Real-Time Payment Mechanism (Lightning Network)

The Lightning Network is the only existing infrastructure capable of supporting the volume and low cost required for the $\text{sats-for-data}$ exchange. It achieves trustless atomic exchange through **Hashed Time-Lock Contracts ($\text{HTLCs}$)**, which are foundational to the $\text{LN}$.

| Feature | Requirement | Lightning Network Solution |
| :--- | :--- | :--- |
| **Atomic Swap** | Payment must be conditional on data/proof delivery. | **$\text{HTLCs}$** enforce the atomic exchange without escrow risk. |
| **Cost** | Fees must be minimal for payments under $1. | Fees are typically a **fraction of a cent**, making micropayments feasible. |
| **Speed** | Verification and retrieval must be near-instant. | Transactions are **near-instantaneous** ($\text{milliseconds}$), avoiding user lag. |

#### Mechanism: Proof-of-Storage Payment Flow

Payments for persistent storage are routine, automated, and triggered by cryptographic proof.

1.  **Proof Generation:** The storage host provides a verifiable **Proof-of-Storage** (e.g., $\text{PoRep}$ or a challenge/response signature) for the content specified by $\text{Key 1}$'s $\text{CID}$.
2.  **Verification:** **$\text{Key 3}$ (Smart Contract Executor)** verifies the $\text{Proof-of-Storage}$ against the $\text{DAO}$'s policy (duration, redundancy, integrity).
3.  **Invoice Request:** Upon successful verification, the host sends a $\text{Lightning}$ Invoice to the $\text{LYW}$ for the pre-agreed fee.
4.  **Payment Authorization:** **$\text{Key 3}$** signs the $\text{Lightning}$ payment for the specific invoice, drawing from the yield generated by the $\text{LYW}$'s capital.
5.  **Settlement:** The payment is executed **instantly** over the Lightning Network.

This process ensures that hosts are only compensated for verifiable, active service, not for a mere promise of storage, maintaining the integrity of the persistence contract.

### Pricing and Cost Modeling: Phased Standard Transition

The $\text{DAO}$ uses a dynamic pricing model to ensure the yield remains competitive with storage market rates while preparing for a long-term transition to the Bitcoin Standard. This process involves two distinct phases:

#### Phase 1: $\text{USD}$ Anchored Pricing (Early Adoption)

During early adoption, $\text{IPFS}$-$\text{Sats}$ operates under a $\text{USD}$ anchor to mitigate the volatility risk for hosts who still rely on fiat currency for operational costs. The $\text{Key 3}$ executor dynamically adjusts the $\text{sats}$ payout based on a rate oracle feed.

$$\text{Host Payment (sats)} = \left(\frac{\text{Target Price per GB}}{\text{BTC/USD Rate}}\right) \times \text{Storage Provided (GB)}$$

| Metric | Rule | Purpose (Current) |
| :--- | :--- | :--- |
| **Payout Floor** | $\text{Key 3}$ must pay hosts no less than the current market rate in $\text{USD}$ equivalent. | Ensures host incentives and quality of service are maintained through fiat stability. |
| **Adjustment** | $\text{Daily}$ or $\text{Weekly}$ adjustment of $\text{sats}$ amount based on $\text{Key 3}$'s rate oracle feed. | Protects the $\text{LYW}$ from overpaying during sudden $\text{BTC}$ price spikes. |

#### Phase 2: Pure Bitcoin Standard Transition (Maturity)

As global adoption increases and hosting costs become increasingly denominated in $\text{sats}$, the $\text{USD}$ anchor will be phased out. The system is designed for this eventual transition to a purely **Bitcoin-native pricing** model.

* **Policy Threshold:** The $\text{DAO}$ (via $\text{Key 2}$ vote) will vote to sunset the $\text{USD}$ anchor when the majority of hosting costs are verifiably denominated in $\text{sats}$, or when market volatility stabilizes to an agreed-upon threshold.
* **Final Formula:** The payment formula simplifies to a fixed $\text{sats}$ rate, reflecting the true cost of persistence within the Bitcoin economy:

$$\text{Host Payment (sats)} = \text{Target Price per GB (sats)} \times \text{Storage Provided (GB)}$$

This phased approach ensures the system's stability in the near term while securing its long-term financial integrity on the Bitcoin Standard.
